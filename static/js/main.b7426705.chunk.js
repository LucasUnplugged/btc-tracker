(this["webpackJsonpbtc-tracker"]=this["webpackJsonpbtc-tracker"]||[]).push([[0],{271:function(e,t,n){"use strict";n.r(t);var r,a=n(4),i=n(1),o=n(141),c=n.n(o),l=n(21),s=n(101),d=n(12);!function(e){e.dark="dark",e.light="light"}(r||(r={}));var u={black:"#030405",error:"#fd5730",neutral50:"#e5e5e6",neutral100:"#c1c1c2",neutral200:"#9a9a9b",neutral300:"#6a6a70",neutral400:"#484a54",neutral500:"#282a36",neutral600:"#242530",neutral700:"#1e1f29",neutral800:"#181922",neutral900:"#0f0f16",primary50:"#fae9ff",primary100:"#e6c5ef",primary200:"#d59fe1",primary300:"#c67ad3",primary400:"#b854c5",primary500:"#a23aab",primary600:"#792c86",primary700:"#521f60",primary800:"#2f113b",primary900:"#110318",success:"#10aa30",white:"#f3f3f3"},p={black:"#030405",error:"#be1c0f",neutral50:"#f7f7f8",neutral100:"#dbdbdd",neutral200:"#bdbec0",neutral300:"#a0a2a6",neutral400:"#838794",neutral500:"#6a6e7b",neutral600:"#525560",neutral700:"#3b3d46",neutral800:"#22252c",neutral900:"#0b0d16",primary50:"#fae9ff",primary100:"#e6c5ef",primary200:"#d59fe1",primary300:"#c67ad3",primary400:"#b854c5",primary500:"#a23aab",primary600:"#792c86",primary700:"#521f60",primary800:"#2f113b",primary900:"#110318",success:"#0f711a",white:"#f3f3f3"},f=function(e,t){var n=e.replace("#","");3===n.length&&(n="".concat(n[0]).concat(n[0]).concat(n[1]).concat(n[1]).concat(n[2]).concat(n[2]));var r=parseInt(n.substring(0,2),16),a=parseInt(n.substring(2,4),16),i=parseInt(n.substring(4,6),16);return"rgba(".concat(r,",").concat(a,",").concat(i,",").concat(t/100,")")},m=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?r.dark:r.light,b={color:m===r.dark?u:p,font:{body:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',\n    'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",code:"'Fira Code', source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace"},fontSize:{xs:"11px",sm:"12px",md:"14px",lg:"16px",xl:"20px",xxl:"27px",xxxl:"36px"},lineHeight:{sm:"1.1",md:"1.3",lg:"1.6"},padding:{xs:"4px",sm:"8px",md:"12px",lg:"16px",xl:"20px",xxl:"40px"},radius:{none:"none",sm:"2px",md:"4px",lg:"8px",full:"100%"}},g=i.createContext({mode:m,setMode:function(e){},theme:b});var h=function(){var e=i.useContext(g),t=e.mode,n=e.setMode,a=e.theme,o=t===r.dark,c=i.useCallback((function(){t===r.light?(window.localStorage.setItem("mode",r.dark),n(r.dark)):(window.localStorage.setItem("mode",r.light),n(r.light))}),[t,n]);return{isDark:o,mode:t,theme:a,toggleMode:c}};function y(e){var t=e.children,n=e.onClick,r=e.title,o=e.width,c=e["aria-label"]?e["aria-label"]:r,l=h(),s=l.isDark,d=l.theme,u=d.color,p=d.fontSize,f=d.padding,m=d.radius,b=i.useCallback((function(e){var t="button"===document.activeElement.type;e.detail&&t&&document.activeElement.blur(),n(e)}),[n]);return Object(a.c)("button",{"aria-label":c,css:Object(a.b)("align-items:center;background:none;border:2px solid transparent;border-color:",s?u.primary300:u.primary600,";border-radius:",m.lg,";color:",s?u.primary300:u.primary600,";cursor:pointer;display:flex;font-weight:500;height:40px;padding:",f.sm," ",f.xl,";font-size:",p.lg,";",o?"width: ".concat(o,";"):""," &:focus,&:hover{background:",s?u.primary300:u.primary600,";color:",s?u.neutral600:u.white,";outline:none;}.icon{margin-right:",f.sm,";}",""),onClick:b,title:r,type:"button"},t)}var j={name:"mmvz9h",styles:"font-weight:400"};function O(){var e=h(),t=e.isDark,n=e.theme,r=n.color,i=n.fontSize,o=n.padding,c=e.toggleMode,l=t?s.b:s.a,d=t?"light":"dark",u="Switch to ".concat(d," mode");return Object(a.c)("header",{css:Object(a.b)("align-items:center;background:",t?r.neutral700:r.neutral200,";display:flex;justify-content:space-between;padding:",o.xl," ",o.xxl,";","")},Object(a.c)("h1",{css:Object(a.b)("color:",t?r.neutral100:r.neutral700,";line-height:",i.xxxl,";font-weight:200;margin:0;","")},"Stock",Object(a.c)("strong",{css:j},"Tracker")),Object(a.c)(y,{onClick:c,title:u,width:"108px"},Object(a.c)(l,{className:"icon"})," ",d))}function x(){var e=h(),t=e.isDark,n=e.theme,r=i.useMemo((function(){var e=n.color,r=n.font,i=n.fontSize,o=n.lineHeight,c=n.padding;return Object(a.c)(a.a,{styles:Object(a.b)("*{box-sizing:border-box;font-family:",r.body,";}*::selection{background:",e.primary500,";color:",e.white,";}html,body,p,li,a{font-size:",i.md,";line-height:",o.lg,";}html,body{margin:0;padding:0;}html{background:",t?e.neutral500:e.neutral100,";}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:",t?e.white:e.neutral700,";}code{font-family:",r.code,";}h1,h2,h3,h4,h5,h6,a,p{margin:",c.xl," 0;}h1:first-of-type,h2:first-of-type,h3:first-of-type,h4:first-of-type,h5:first-of-type,h6:first-of-type,a:first-of-type,p:first-of-type{margin-top:0;}h1,h2,h3,h4,h5,h6{line-height:",o.sm,";}h1{font-size:",i.xxxl,";}h2{font-size:",i.xxl,";}h3{font-size:",i.xl,";}h4{font-size:",i.lg,";}a{color:",t?e.primary300:e.primary600,";}","")})}),[t,n]);return Object(a.c)(i.Fragment,null,r)}var v=n(102),k=function(e,t){switch(t.type){case"ADD_DATA_POINT":var n=e.averageCount+1,r=e.averageTotal+t.point.price,a=Object(d.a)(Object(d.a)({},t.point),{},{price:r/n});return{averageCount:n,averageTotal:r,average:[].concat(Object(v.a)(e.average),[a]),stock:[].concat(Object(v.a)(e.stock),[t.point])};default:return e}},w=n(285),S=n(281),C=n(289),D=n(278),z=n(282),E=n(290),L=function(e){var t=e.datum;return I(t.price)},M=function(e){return new Date(e).toLocaleTimeString("en-US",{timeStyle:"medium"}).replace(/\s([AaPp][Mm])/g,"")},T=function(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD",notation:"compact"})},I=function(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})},F=n(287);function P(e){var t=i.useState(!1),n=Object(l.a)(t,2),r=n[0],a=n[1];return i.useEffect((function(){var t=window.matchMedia(e);t.matches!==r&&a(t.matches);var n=function(){a(t.matches)};return t.addEventListener("change",n),function(){return t.removeEventListener("change",n)}}),[r,e]),r}var A={name:"oaecsz",styles:"height:0;pointer-events:none;position:absolute;visibility:hidden"};function U(e){var t=e.currentDate,n=e.initialDate,r=e.price,o=i.useRef(r.current),c=i.useReducer(k,{averageCount:0,averageTotal:0,average:[],stock:[]}),s=Object(l.a)(c,2),u=s[0],p=s[1],m=h(),b=m.isDark,g=m.theme,y=m.theme.color,j=P("(min-width: 1500px)"),O=P("(min-width: 1250px)"),x=P("(min-width: 1100px)"),v=P("(min-width: 1000px)"),I=P("(min-width: 900px)"),U=P("(min-width: 800px)"),W=P("(min-width: 700px)"),R=P("(min-width: 600px)"),B=j?.75:O?.9:x?1.1:v?1.3:I?1.5:U?1.7:W?1.9:R?2.1:2.3,N=i.useMemo((function(){return function(e,t){var n=t.color,r=t.font,a=e?n.neutral400:n.neutral300,i=e?n.neutral300:n.neutral500,o=e?n.neutral100:n.neutral700,c=Object.entries(n).filter((function(e){return Object(l.a)(e,1)[0].includes("primary")})).map((function(e){var t=Object(l.a)(e,2);return t[0],t[1]})),s={width:500,height:250,padding:40,colorScale:c},u={fontFamily:r.body,fontSize:10,fontWeight:300,letterSpacing:"normal",padding:10,fill:i,stroke:"transparent"},p=Object(d.a)(Object(d.a)({},u),{},{textAnchor:"middle"});return{area:Object(d.a)(Object(d.a)({},s),{},{style:{data:{fill:e?n.primary500:n.primary600,stroke:e?n.primary400:n.primary600},labels:u}}),axis:Object(d.a)(Object(d.a)({},s),{},{style:{axis:{fill:"transparent",stroke:a,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},axisLabel:Object(d.a)(Object(d.a)({},p),{},{padding:25}),grid:{fill:"none",stroke:"none",pointerEvents:"painted"},ticks:{fill:"transparent",size:2,stroke:"transparent"},tickLabels:u}}),chart:s,errorbar:Object(d.a)(Object(d.a)({},s),{},{borderWidth:8,style:{data:{fill:"transparent",stroke:i,strokeWidth:2},labels:u}}),group:Object(d.a)(Object(d.a)({},s),{},{colorScale:c}),histogram:Object(d.a)(Object(d.a)({},s),{},{style:{data:{fill:a,stroke:i,strokeWidth:2},labels:u}}),legend:{colorScale:c,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle"},labels:u,title:Object(d.a)(Object(d.a)({},u),{},{padding:5})}},line:Object(d.a)(Object(d.a)({},s),{},{style:{data:{fill:"transparent",stroke:i,strokeWidth:2},labels:u}}),tooltip:{style:Object(d.a)(Object(d.a)({},u),{},{fill:a,padding:0,pointerEvents:"none"}),flyoutStyle:{stroke:"transparent",fill:o,pointerEvents:"none"},flyoutPadding:{top:4,bottom:4,left:7,right:7},cornerRadius:2,pointerLength:6}}}(b,g)}),[b,g]),_=i.useMemo((function(){return b?y.primary500:y.primary600}),[y,b]),H=i.useMemo((function(){return Object(a.c)(w.a,{style:{fill:b?y.primary800:y.neutral100,fontSize:9*B,pointerEvents:"none"},flyoutStyle:{fill:f(b?y.neutral100:y.neutral800,90),pointerEvents:"none",stroke:"transparent"},flyoutPadding:{top:4*B,bottom:4*B,left:7*B,right:7*B},cornerRadius:2*B,pointerLength:6*B})}),[y,b,B]);return i.useEffect((function(){var e={price:r.current,timestamp:(new Date).getTime()};p({type:"ADD_DATA_POINT",point:e})}),[r]),Object(a.c)("figure",{css:Object(a.b)("margin:0 calc(",106+4*B,"px - ",35*B/5,"%) 0 0;padding:0;","")},Object(a.c)("svg",{css:A},Object(a.c)("defs",null,Object(a.c)("linearGradient",{id:"average-gradient",gradientTransform:"rotate(90)"},Object(a.c)("stop",{offset:"0%",stopColor:f(y.neutral400,50)}),Object(a.c)("stop",{offset:"100%",stopColor:f(y.neutral400,0)})),Object(a.c)("linearGradient",{id:"price-gradient",gradientTransform:"rotate(90)"},Object(a.c)("stop",{offset:"0%",stopColor:f(_,50)}),Object(a.c)("stop",{offset:"100%",stopColor:f(_,0)})))),Object(a.c)(S.a,{animate:{duration:0,onLoad:{duration:500}},domain:{x:[n,t],y:[o.current/1.25,1.25*o.current]},height:245*B,padding:{top:20*B,bottom:30*B,left:15*B,right:35*B},scale:{x:"time"},theme:N},Object(a.c)(F.a,{fixLabelOverlap:!0,label:"Time",style:{axisLabel:{fontSize:7*B,fontWeight:500,padding:20*B},tickLabels:{fontSize:7*B,padding:5*B}},tickFormat:M}),Object(a.c)(F.a,{dependentAxis:!0,orientation:"right",style:{tickLabels:{fontSize:7*B,padding:5*B}},tickFormat:T}),Object(a.c)(C.a,{data:u.average,labelComponent:H,labels:L,style:{data:{strokeWidth:B}},x:"timestamp",y:"price"},Object(a.c)(D.a,{style:{data:{fill:"url(#average-gradient)",stroke:b?y.neutral400:y.neutral300}},interpolation:"catmullRom"})),Object(a.c)(C.a,{data:u.stock,labelComponent:H,labels:L,style:{data:{strokeWidth:B}},x:"timestamp",y:"price"},Object(a.c)(D.a,{style:{data:{fill:"url(#price-gradient)"}}}),Object(a.c)(z.a,{groupComponent:Object(a.c)(E.a,null),size:3*B,style:{data:{fill:"transparent"}}}))))}var W=n(100),R=n.n(W);function B(e){var t=e.delta,n=h(),r=n.isDark,o=n.theme.color,c=i.useMemo((function(){var e=t>0,n=t<0,i=o.success,c=o.error,l=r?o.neutral200:o.neutral500,s=e?"Price trending up":n?"Price trending down":"Price trend is unchanged";return Object(a.c)("div",{"aria-label":s,title:s,css:Object(a.b)("align-items:center;display:flex;height:90px;justify-content:center;margin-right:9px;position:relative;width:90px;@media (prefers-reduced-motion: no-preference){&,span{transition:0.2s ease-in;}}span{","background: ".concat(e?i:n?c:l,";")," border-radius:3px;bottom:39%;display:block;height:3px;left:25%;position:absolute;width:27px;&:nth-of-type(2){left:45%;}&:nth-of-type(3){bottom:58%;}&:nth-of-type(4){left:45%;bottom:58%;}}","")},Object(a.c)("span",{css:Object(a.b)("transform:",e?"rotate(-45deg)":n?"rotate(45deg)":"rotate(0deg)",";","")}),Object(a.c)("span",{css:Object(a.b)("transform:",e?"rotate(45deg)":n?"rotate(-45deg)":"rotate(0deg)",";","")}),Object(a.c)("span",{css:Object(a.b)("transform:",e?"rotate(135deg)":n?"rotate(225deg)":"rotate(180deg)",";","")}),Object(a.c)("span",{css:Object(a.b)("transform:",e?"rotate(-135deg)":n?"rotate(-225deg)":"rotate(-180deg)",";","")}))}),[o,t,r]);return Object(a.c)(i.Fragment,null,c)}var N={name:"6p6xl",styles:"display:none;@media (prefers-reduced-motion: no-preference){display:inline-block;}"},_={name:"1pgolx5",styles:"display:inline-block;@media (prefers-reduced-motion: no-preference){display:none;}"},H={name:"6p6xl",styles:"display:none;@media (prefers-reduced-motion: no-preference){display:inline-block;}"},K={name:"1pgolx5",styles:"display:inline-block;@media (prefers-reduced-motion: no-preference){display:none;}"},G={name:"1nhpwi9",styles:"display:flex;@media (max-width: 680px){justify-content:flex-end;}"},J={name:"3s8uot",styles:"display:flex;justify-content:space-between;@media (max-width: 680px){flex-direction:column;}"},q={name:"jye9ja",styles:"font-size:24px;font-weight:200;margin:0"};function Q(e){var t=e.price,n=t.current,r=t.delta,i=t.previous,o=h(),c=o.isDark,l=o.theme,s=l.color,d=l.padding,u=Object(a.b)("font-size:50px;font-weight:700;margin-bottom:",d.sm,";",""),p=q;return Object(a.c)("header",{css:J},Object(a.c)("section",{css:Object(a.b)("@media (max-width: 680px){text-align:right;margin:0 139px ",d.xxl," 0;}","")},Object(a.c)("h2",{css:u},"BTC",Object(a.c)("span",{css:Object(a.b)("font-weight:300;margin-left:",d.lg,";","")},"Bitcoin")),Object(a.c)("h3",{css:p},"In USD")),Object(a.c)("section",{css:G},Object(a.c)("div",{css:Object(a.b)("border-right:2px solid ",c?s.neutral400:s.neutral200,";margin-right:8px;padding-right:30px;","")},Object(a.c)("h2",{css:u},Object(a.c)("span",{css:K},T(n)),Object(a.c)(R.a,{css:H,duration:.5,end:n,formattingFn:T,start:i})),Object(a.c)("h3",{css:Object(a.b)(p,";display:flex;justify-content:flex-end;","")},Object(a.c)("span",{css:_},I(n)),Object(a.c)(R.a,{css:N,duration:.5,end:n,formattingFn:I,start:i}))),Object(a.c)(B,{delta:r})))}var V;function X(e){var t=e.getPrice,n=e.price,r=h().theme.padding,o=i.useRef((new Date).getTime()-6e4),c=i.useState((new Date).getTime()),s=Object(l.a)(c,2),d=s[0],u=s[1];return i.useEffect((function(){return V=setInterval((function(){u((new Date).getTime())}),3750),function(){return clearInterval(V)}}),[]),i.useEffect(t,[t,d]),Object(a.c)("article",{css:Object(a.b)("padding:",r.xxl,";","")},Object(a.c)(Q,{price:n}),Object(a.c)(U,{currentDate:d,initialDate:o.current,price:n}))}var Y=!1;var Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,291)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};c.a.render(Object(a.c)(i.StrictMode,null,Object(a.c)((function(e){var t=i.useState(m),n=Object(l.a)(t,2),o=n[0],c=n[1],s=i.useMemo((function(){return Object(d.a)(Object(d.a)({},b),{},{color:o===r.dark?u:p})}),[o]);return i.useEffect((function(){var e=function(e){var t=e.matches?r.dark:r.light;c(t)},t=window.localStorage.getItem("mode");return t&&c(t),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),function(){return window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",e)}}),[]),Object(a.c)(g.Provider,{value:{mode:o,setMode:c,theme:s}},e.children)}),null,Object(a.c)((function(){var e=i.useState(),t=Object(l.a)(e,2),n=t[0],r=t[1],o=i.useCallback((function(){fetch(Y?"response.json":"https://api.coinbase.com/v2/prices/BTC-USD/buy",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){r((function(t){var n,r=Math.random(),a=Y?58e3+4e3*r:parseFloat(e.data.amount),i=null!==(n=null===t||void 0===t?void 0:t.current)&&void 0!==n?n:a;return{current:a,delta:a-i,previous:i}}))}))}),[]);return i.useEffect((function(){var e=function(e){"e"===e.key&&e.shiftKey&&(e.ctrlKey||e.metaKey)&&(console.log(Y?"Switching to live data":"Switching to mocked demo data"),Y=!Y)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),i.useEffect((function(){o()}),[o]),Object(a.c)("main",null,Object(a.c)(x,null),Object(a.c)(O,null),n&&Object(a.c)(X,{getPrice:o,price:n}))}),null))),document.getElementById("root")),Z()}},[[271,1,2]]]);
//# sourceMappingURL=main.b7426705.chunk.js.map